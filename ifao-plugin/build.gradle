apply plugin: 'eclipse'

// deactivate sorting of classpath ... use the same classpath independant from pathname 
tasks.eclipseProject.doFirst {
	def props = new Properties()
	File f = file('.settings/gradle/org.springsource.ide.eclipse.gradle.core.prefs');
	if (f.exists()) {
		f.withInputStream {stream -> props.load(stream)}
	}
	if (!'false'.equals(props.getProperty('org.springsource.ide.eclipse.gradle.classpath.enableSorting'))) {
		props.setProperty('org.springsource.ide.eclipse.gradle.classpath.enableSorting', 'false')
		f.withOutputStream {
			stream -> props.store(stream, null)
			println 'update of settings file '+f
		}	
	}
}

// check each time for new versions (default would be 24 hours)
allprojects {
	configurations.all {	
		resolutionStrategy {		
			cacheChangingModulesFor 1, 'seconds'		
			cacheDynamicVersionsFor 1, 'seconds'		
		}	
	} 
}

